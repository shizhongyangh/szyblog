<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>SZY自定义表单系统</title>
      <link href="/post/2025111401/"/>
      <url>/post/2025111401/</url>
      
        <content type="html"><![CDATA[<h1 id="SZY自定义表单系统"><a href="#SZY自定义表单系统" class="headerlink" title="SZY自定义表单系统"></a>SZY自定义表单系统</h1><p>一个由SZY创新工作室现代化的可管理表单系统，支持多种功能，完全开源</p><p>预览可查看 <a href="https://www.szystudio.cn/join.html">https://www.szystudio.cn/join.html</a></p><p>开源地址：<a href="https://github.com/SZYInnovationStudio/SZYCustomFormSystem">https://github.com/SZYInnovationStudio/SZYCustomFormSystem</a></p><h3 id="图片预览："><a href="#图片预览：" class="headerlink" title="图片预览："></a>图片预览：</h3><p> <img src="https://cdn.szyd.fun/shizhongyan/691747b9c8ad5.png" alt="Alt"></p><h2 id="功能特点"><a href="#功能特点" class="headerlink" title="功能特点"></a>功能特点</h2><h3 id="🎯-核心功能"><a href="#🎯-核心功能" class="headerlink" title="🎯 核心功能"></a>🎯 核心功能</h3><ul><li><strong>用户友好界面</strong>: 仿macOS窗口设计的现代化UI</li><li><strong>响应式设计</strong>: 完美适配桌面和移动设备</li><li><strong>实时表单验证</strong>: 客户端和服务端双重验证</li><li><strong>安全管理员面板</strong>: 密码保护的数据查看界面</li><li><strong>数据统计</strong>: 实时显示提交表单总数和今日提交数</li></ul><h3 id="🔐-安全特性"><a href="#🔐-安全特性" class="headerlink" title="🔐 安全特性"></a>🔐 安全特性</h3><ul><li>跨域请求安全配置</li><li>Session-based身份验证</li><li>输入数据过滤和验证</li><li>SQL注入防护</li></ul><h3 id="📊-数据管理"><a href="#📊-数据管理" class="headerlink" title="📊 数据管理"></a>📊 数据管理</h3><ul><li>MySQL数据库存储</li><li>完整的数据字段记录</li><li>按时间排序的申请列表</li><li>IP地址记录</li></ul><h2 id="文件结构"><a href="#文件结构" class="headerlink" title="文件结构"></a>文件结构</h2><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">szy-application-system/</span><br><span class="line">├── index.html # 前端页面 (静态网站) </span><br><span class="line">└── main.php # 后端API (API服务器)</span><br></pre></td></tr></table></figure><h2 id="技术栈"><a href="#技术栈" class="headerlink" title="技术栈"></a>技术栈</h2><h3 id="前端技术"><a href="#前端技术" class="headerlink" title="前端技术"></a>前端技术</h3><ul><li><strong>HTML5</strong>: 语义化结构</li><li><strong>CSS3</strong>: 现代化样式，包括Flexbox和Grid布局</li><li><strong>JavaScript ES6+</strong>: 原生JavaScript，无第三方依赖</li><li><strong>响应式设计</strong>: 移动端优先</li></ul><h3 id="后端技术"><a href="#后端技术" class="headerlink" title="后端技术"></a>后端技术</h3><ul><li><strong>PHP 7.4+</strong>: 服务器端逻辑</li><li><strong>MySQL 5.7+</strong>: 数据存储</li><li><strong>RESTful API</strong>: 前后端分离架构</li><li><strong>Session管理</strong>: 用户状态维护</li></ul><h2 id="快速开始"><a href="#快速开始" class="headerlink" title="快速开始"></a>快速开始</h2><h3 id="1-环境要求"><a href="#1-环境要求" class="headerlink" title="1. 环境要求"></a>1. 环境要求</h3><p><strong>服务器要求:</strong></p><ul><li>PHP 7.4 或更高版本</li><li>MySQL 5.7 或更高版本</li><li>支持HTTPS的Web服务器</li></ul><p><strong>浏览器支持:</strong></p><ul><li>Chrome 60+</li><li>Firefox 55+</li><li>Safari 12+</li><li>Edge 79+</li></ul><h3 id="2-数据库设置"><a href="#2-数据库设置" class="headerlink" title="2. 数据库设置"></a>2. 数据库设置</h3><p>创建数据库和表：</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> DATABASE szy_studio <span class="keyword">CHARACTER SET</span> utf8mb4 <span class="keyword">COLLATE</span> utf8mb4_unicode_ci;</span><br><span class="line"></span><br><span class="line">USE szy_studio;</span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE TABLE</span> applications (</span><br><span class="line">    id <span class="type">INT</span> AUTO_INCREMENT <span class="keyword">PRIMARY KEY</span>,</span><br><span class="line">    name <span class="type">VARCHAR</span>(<span class="number">100</span>) <span class="keyword">NOT NULL</span>,</span><br><span class="line">    gender ENUM(<span class="string">&#x27;male&#x27;</span>, <span class="string">&#x27;female&#x27;</span>, <span class="string">&#x27;other&#x27;</span>) <span class="keyword">NOT NULL</span>,</span><br><span class="line">    age <span class="type">INT</span> <span class="keyword">NOT NULL</span>,</span><br><span class="line">    languages TEXT <span class="keyword">NOT NULL</span>,</span><br><span class="line">    project_url <span class="type">VARCHAR</span>(<span class="number">500</span>),</span><br><span class="line">    submit_time DATETIME <span class="keyword">NOT NULL</span>,</span><br><span class="line">    ip_address <span class="type">VARCHAR</span>(<span class="number">45</span>) <span class="keyword">NOT NULL</span>,</span><br><span class="line">    status ENUM(<span class="string">&#x27;pending&#x27;</span>, <span class="string">&#x27;reviewed&#x27;</span>, <span class="string">&#x27;accepted&#x27;</span>, <span class="string">&#x27;rejected&#x27;</span>) <span class="keyword">DEFAULT</span> <span class="string">&#x27;pending&#x27;</span></span><br><span class="line">);</span><br></pre></td></tr></table></figure><h3 id="3-配置文件修改"><a href="#3-配置文件修改" class="headerlink" title="3. 配置文件修改"></a>3. 配置文件修改</h3><p>编辑 main.php 中的数据库配置：</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 数据库配置</span></span><br><span class="line"><span class="variable">$host</span> = <span class="string">&#x27;localhost&#x27;</span>;        <span class="comment">// 数据库主机</span></span><br><span class="line"><span class="variable">$dbname</span> = <span class="string">&#x27;szy_studio&#x27;</span>;     <span class="comment">// 数据库名</span></span><br><span class="line"><span class="variable">$username</span> = <span class="string">&#x27;your_username&#x27;</span>; <span class="comment">// 数据库用户名</span></span><br><span class="line"><span class="variable">$password</span> = <span class="string">&#x27;your_password&#x27;</span>; <span class="comment">// 数据库密码</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 管理员账户配置</span></span><br><span class="line"><span class="variable">$admin_config</span> = [</span><br><span class="line">    <span class="string">&#x27;username&#x27;</span> =&gt; <span class="string">&#x27;SZY&#x27;</span>,           <span class="comment">// 管理员用户名</span></span><br><span class="line">    <span class="string">&#x27;password&#x27;</span> =&gt; <span class="string">&#x27;Szy.20130914&#x27;</span>   <span class="comment">// 管理员密码</span></span><br><span class="line">];</span><br></pre></td></tr></table></figure><h3 id="4-部署步骤"><a href="#4-部署步骤" class="headerlink" title="4. 部署步骤"></a>4. 部署步骤</h3><h4 id="前端部署-静态网站"><a href="#前端部署-静态网站" class="headerlink" title="前端部署 (静态网站):"></a>前端部署 (静态网站):</h4><ol><li><p>将 index.html 上传到您的静态网站服务器</p></li><li><p>确保可以通过您的链接访问</p></li></ol><h4 id="后端部署-API服务器"><a href="#后端部署-API服务器" class="headerlink" title="后端部署 (API服务器):"></a>后端部署 (API服务器):</h4><ol><li><p>将 main.php 上传到您的PHP服务器</p></li><li><p>配置正确的数据库连接信息</p></li><li><p>确保可以通过您的后端连接访问</p></li></ol><h4 id="跨域配置"><a href="#跨域配置" class="headerlink" title="跨域配置:"></a>跨域配置:</h4><ul><li><p>确保前端域名和后端API域名正确配置</p></li><li><p>在 main.php 中修改 Access-Control-Allow-Origin 头</p></li></ul><h2 id="自定义指南"><a href="#自定义指南" class="headerlink" title="自定义指南"></a>自定义指南</h2><h3 id="修改样式主题"><a href="#修改样式主题" class="headerlink" title="修改样式主题"></a>修改样式主题</h3><p>编辑CSS变量来改变颜色主题：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-pseudo">:root</span> &#123;</span><br><span class="line">    <span class="attr">--primary-color</span>: <span class="number">#0071e3</span>;      <span class="comment">/* 主色调 */</span></span><br><span class="line">    <span class="attr">--success-color</span>: <span class="number">#28ca42</span>;      <span class="comment">/* 成功颜色 */</span></span><br><span class="line">    <span class="attr">--danger-color</span>: <span class="number">#ff5f57</span>;       <span class="comment">/* 危险颜色 */</span></span><br><span class="line">    <span class="attr">--warning-color</span>: <span class="number">#ffbd2e</span>;      <span class="comment">/* 警告颜色 */</span></span><br><span class="line">    <span class="attr">--text-primary</span>: <span class="number">#1d1d1f</span>;       <span class="comment">/* 主要文字颜色 */</span></span><br><span class="line">    <span class="attr">--text-secondary</span>: <span class="number">#86868b</span>;     <span class="comment">/* 次要文字颜色 */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="添加新的表单字段"><a href="#添加新的表单字段" class="headerlink" title="添加新的表单字段"></a>添加新的表单字段</h3><h4 id="前端修改-index-html"><a href="#前端修改-index-html" class="headerlink" title="前端修改 (index.html):"></a>前端修改 (index.html):</h4><ol><li><p>在表单中添加新的HTML字段</p></li><li><p>更新JavaScript中的表单数据处理</p></li></ol><h4 id="后端修改-main-php"><a href="#后端修改-main-php" class="headerlink" title="后端修改 (main.php):"></a>后端修改 (main.php):</h4><ol><li><p>在 handleApplicationSubmission 函数中添加字段验证</p></li><li><p>更新数据库插入语句</p></li><li><p>修改数据库表结构</p></li></ol><h5 id="示例-添加电话号码字段"><a href="#示例-添加电话号码字段" class="headerlink" title="示例 - 添加电话号码字段:"></a>示例 - 添加电话号码字段:</h5><p>前端:</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;form-group&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;phone&quot;</span>&gt;</span>电话号码<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;tel&quot;</span> <span class="attr">id</span>=<span class="string">&quot;phone&quot;</span> <span class="attr">name</span>=<span class="string">&quot;phone&quot;</span> <span class="attr">required</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>后端:</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 在handleApplicationSubmission函数中添加</span></span><br><span class="line"><span class="variable">$phone</span> = <span class="title function_ invoke__">trim</span>(<span class="variable">$data</span>[<span class="string">&#x27;phone&#x27;</span>] ?? <span class="string">&#x27;&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 验证和插入数据库时包含新字段</span></span><br></pre></td></tr></table></figure><h3 id="修改验证规则"><a href="#修改验证规则" class="headerlink" title="修改验证规则"></a>修改验证规则</h3><h4 id="年龄范围验证"><a href="#年龄范围验证" class="headerlink" title="年龄范围验证:"></a>年龄范围验证:</h4><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 在handleApplicationSubmission函数中修改</span></span><br><span class="line"><span class="keyword">if</span> (<span class="variable">$age</span> &lt; <span class="number">10</span> || <span class="variable">$age</span> &gt; <span class="number">30</span>) &#123;</span><br><span class="line">    <span class="keyword">echo</span> <span class="title function_ invoke__">json_encode</span>([<span class="string">&#x27;success&#x27;</span> =&gt; <span class="literal">false</span>, <span class="string">&#x27;message&#x27;</span> =&gt; <span class="string">&#x27;年龄必须在10-30岁之间&#x27;</span>]);</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="必填字段验证"><a href="#必填字段验证" class="headerlink" title="必填字段验证:"></a>必填字段验证:</h4><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (<span class="keyword">empty</span>(<span class="variable">$name</span>) || <span class="keyword">empty</span>(<span class="variable">$gender</span>) || <span class="keyword">empty</span>(<span class="variable">$languages</span>)) &#123;</span><br><span class="line">    <span class="keyword">echo</span> <span class="title function_ invoke__">json_encode</span>([<span class="string">&#x27;success&#x27;</span> =&gt; <span class="literal">false</span>, <span class="string">&#x27;message&#x27;</span> =&gt; <span class="string">&#x27;请填写所有必填字段&#x27;</span>]);</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="自定义管理员账户"><a href="#自定义管理员账户" class="headerlink" title="自定义管理员账户"></a>自定义管理员账户</h3><p>修改 main.php 中的管理员配置：</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$admin_config</span> = [</span><br><span class="line">    <span class="string">&#x27;username&#x27;</span> =&gt; <span class="string">&#x27;你的用户名&#x27;</span>,     <span class="comment">// 修改用户名</span></span><br><span class="line">    <span class="string">&#x27;password&#x27;</span> =&gt; <span class="string">&#x27;你的密码&#x27;</span>        <span class="comment">// 修改密码</span></span><br><span class="line">];</span><br></pre></td></tr></table></figure><h2 id="API接口文档"><a href="#API接口文档" class="headerlink" title="API接口文档"></a>API接口文档</h2><h3 id="提交申请"><a href="#提交申请" class="headerlink" title="提交申请"></a>提交申请</h3><ul><li><p>URL: POST &#x2F;main.php</p></li><li><p>参数:</p></li></ul><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;姓名&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;gender&quot;</span><span class="punctuation">:</span> <span class="string">&quot;male|female|other&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;age&quot;</span><span class="punctuation">:</span> 年龄<span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;languages&quot;</span><span class="punctuation">:</span> <span class="string">&quot;编程语言&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;projectUrl&quot;</span><span class="punctuation">:</span> <span class="string">&quot;项目地址&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><ul><li>响应:</li></ul><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;success&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;message&quot;</span><span class="punctuation">:</span> <span class="string">&quot;申请提交成功！&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><h3 id="管理员登录"><a href="#管理员登录" class="headerlink" title="管理员登录"></a>管理员登录</h3><ul><li><p>URL: POST &#x2F;main.php</p></li><li><p>参数:</p></li></ul><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;action&quot;</span><span class="punctuation">:</span> <span class="string">&quot;admin_login&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;username&quot;</span><span class="punctuation">:</span> <span class="string">&quot;管理员用户名&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;password&quot;</span><span class="punctuation">:</span> <span class="string">&quot;管理员密码&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><ul><li>响应:</li></ul><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;success&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;message&quot;</span><span class="punctuation">:</span> <span class="string">&quot;登录成功&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><h3 id="获取申请列表"><a href="#获取申请列表" class="headerlink" title="获取申请列表"></a>获取申请列表</h3><ul><li><p>URL: POST &#x2F;main.php</p></li><li><p>参数:</p></li></ul><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;action&quot;</span><span class="punctuation">:</span> <span class="string">&quot;get_applications&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><ul><li>响应:</li></ul><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;success&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;data&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span>...<span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><h2 id="故障排除"><a href="#故障排除" class="headerlink" title="故障排除"></a>故障排除</h2><h3 id="常见问题"><a href="#常见问题" class="headerlink" title="常见问题"></a>常见问题</h3><ol><li><p>跨域请求失败</p><ul><li><p>检查 Access-Control-Allow-Origin 头设置</p></li><li><p>确保前端和后端域名配置正确</p></li></ul></li><li><p>数据库连接失败</p><ul><li><p>验证数据库配置信息</p></li><li><p>检查MySQL服务是否运行</p></li><li><p>确认数据库用户权限</p></li></ul></li><li><p>Session不保持</p><ul><li><p>检查跨域Cookie设置</p></li><li><p>验证SSL证书配置</p></li><li><p>检查浏览器Cookie设置</p></li></ul></li><li><p>表单提交失败</p><ul><li><p>检查网络连接</p></li><li><p>查看浏览器控制台错误信息</p></li><li><p>验证API端点可访问性</p></li></ul></li></ol><h2 id="调试模式"><a href="#调试模式" class="headerlink" title="调试模式"></a>调试模式</h2><h3 id="启用调试日志："><a href="#启用调试日志：" class="headerlink" title="启用调试日志："></a>启用调试日志：</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 在main.php开头添加</span></span><br><span class="line"><span class="title function_ invoke__">error_reporting</span>(E_ALL);</span><br><span class="line"><span class="title function_ invoke__">ini_set</span>(<span class="string">&#x27;display_errors&#x27;</span>, <span class="number">1</span>);</span><br></pre></td></tr></table></figure><h2 id="安全建议"><a href="#安全建议" class="headerlink" title="安全建议"></a>安全建议</h2><ul><li><p>定期更改管理员密码</p></li><li><p>使用强密码保护数据库</p></li><li><p>启用HTTPS加密</p></li><li><p>定期备份数据库</p></li><li><p>监控服务器日志</p></li><li><p>限制API访问频率</p></li></ul><hr><p>如果您有任何问题或发现bug，请联系QQ1774297708</p>]]></content>
      
      
      <categories>
          
          <category> 开源项目 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 教程 </tag>
            
            <tag> 开源项目 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>bilibili专栏</title>
      <link href="/post/2025101902/"/>
      <url>/post/2025101902/</url>
      
        <content type="html"><![CDATA[<p>本文仅作B站专栏分区占位，无实际用途及意义</p>]]></content>
      
      
      <categories>
          
          <category> B站专栏 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> B站专栏 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>550WOS介绍</title>
      <link href="/post/2025101901/"/>
      <url>/post/2025101901/</url>
      
        <content type="html"><![CDATA[<h2 id="1-1-项目概述"><a href="#1-1-项目概述" class="headerlink" title="1.1 项目概述"></a>1.1 项目概述</h2><p>550WOS是一个基于Web技术的模拟操作系统，由开发者ShiZhongyan🍭基于前端大佬tjy-github的Windows 12网页版进行二次创作。该项目通过HTML、CSS和JavaScript技术，精心还原了550w的操作界面和功能体验，为用户提供了一个在浏览器中即可体验的模拟550w操作系统。</p><h3 id="项目信息（基本信息）"><a href="#项目信息（基本信息）" class="headerlink" title="项目信息（基本信息）"></a>项目信息（基本信息）</h3><ul><li><strong>项目名称</strong>：550WOS</li><li><strong>官方网站</strong>：<a href="https://550w.szyd.fun/">https://550w.szyd.fun</a></li><li><strong>开发作者</strong>：ShiZhongyan🍭</li><li><strong>开源地址</strong>：<a href="https://github.com/shizhongyangh/550WOS">GitHub - shizhongyangh&#x2F;550WOS</a></li><li><strong>技术栈</strong>：HTML、CSS、JavaScript</li></ul><h3 id="项目信息（项目特点）"><a href="#项目信息（项目特点）" class="headerlink" title="项目信息（项目特点）"></a>项目信息（项目特点）</h3><ul><li>完全基于Web技术，无需安装，跨平台兼容</li><li>精确模拟550w操作系统的界面风格和交互体验</li><li>实现了多种系统功能和应用程序</li><li>响应式设计，适配不同设备屏幕</li><li>开源代码，便于学习和二次开发</li></ul><h2 id="1-2-项目背景"><a href="#1-2-项目背景" class="headerlink" title="1.2 项目背景"></a>1.2 项目背景</h2><p>随着Web技术的不断发展，在浏览器中模拟桌面操作系统已经成为展示前端技术能力的一种创新方式。550WOS项目正是在这一背景下诞生的，它基于tjy-github开发的Windows 12网页版进行二次创作，将主题定制为550w风格，为用户提供了一种全新的交互体验。</p><p>通过这个项目，开发者不仅展示了对前端技术的深入理解，也为550w爱好者提供了一个有趣的体验平台。项目的开源性质也鼓励更多开发者参与进来，共同完善和拓展这一创意作品。</p><h1 id="2-功能特性"><a href="#2-功能特性" class="headerlink" title="2. 功能特性"></a>2. 功能特性</h1><h2 id="2-1-系统界面"><a href="#2-1-系统界面" class="headerlink" title="2.1 系统界面"></a>2.1 系统界面</h2><p>550WOS精心还原了550w的系统界面风格，包括但不限于以下元素：</p><h3 id="界面元素：桌面环境"><a href="#界面元素：桌面环境" class="headerlink" title="界面元素：桌面环境"></a>界面元素：桌面环境</h3><ul><li>定制化的桌面壁纸和主题</li><li>任务栏与开始菜单</li><li>桌面图标与快捷方式</li><li>系统托盘与通知区域</li></ul><h3 id="界面元素：窗口管理"><a href="#界面元素：窗口管理" class="headerlink" title="界面元素：窗口管理"></a>界面元素：窗口管理</h3><ul><li>可拖拽、调整大小的应用窗口</li><li>窗口最小化、最大化和关闭功能</li><li>多窗口切换与管理</li><li>窗口动画效果</li></ul><h2 id="2-2-应用功能"><a href="#2-2-应用功能" class="headerlink" title="2.2 应用功能"></a>2.2 应用功能</h2><p>550WOS实现了多种模拟应用程序，为用户提供接近真实操作系统的体验：</p><ul><li><strong>文件管理器</strong>：浏览和管理虚拟文件系统</li><li><strong>文本编辑器</strong>：创建和编辑文本文档</li><li><strong>媒体播放器</strong>：播放音频和视频文件</li><li><strong>计算器</strong>：执行基本数学运算</li><li><strong>系统设置</strong>：自定义系统外观和行为</li></ul><h2 id="2-3-技术亮点"><a href="#2-3-技术亮点" class="headerlink" title="2.3 技术亮点"></a>2.3 技术亮点</h2><blockquote><p><strong>提示：</strong> 550WOS在技术实现上有诸多亮点，展示了开发者的技术实力和创新思维</p></blockquote><ul><li><strong>模块化设计</strong>：系统采用模块化架构，便于维护和扩展</li><li><strong>事件驱动机制</strong>：实现了高效的用户交互响应系统</li><li><strong>虚拟文件系统</strong>：模拟了基本的文件操作和存储功能</li><li><strong>本地存储</strong>：利用浏览器存储技术保存用户设置和数据</li><li><strong>动态加载</strong>：按需加载资源，优化性能和用户体验</li></ul><h1 id="3-安装与使用"><a href="#3-安装与使用" class="headerlink" title="3. 安装与使用"></a>3. 安装与使用</h1><h2 id="3-1-在线体验"><a href="#3-1-在线体验" class="headerlink" title="3.1 在线体验"></a>3.1 在线体验</h2><p>最简单的体验方式是直接访问官方网站：<a href="https://550w.szyd.fun/">550w.szyd.fun</a>，无需安装任何软件，只需一个现代浏览器即可。</p><h2 id="3-2-本地部署"><a href="#3-2-本地部署" class="headerlink" title="3.2 本地部署"></a>3.2 本地部署</h2><p>如果您希望在本地环境运行550WOS，可以按照以下步骤操作：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 克隆项目仓库</span></span><br><span class="line">git <span class="built_in">clone</span> https://github.com/shizhongyangh/550WOS.git</span><br><span class="line"></span><br><span class="line"><span class="comment"># 进入项目目录</span></span><br><span class="line"><span class="built_in">cd</span> 550WOS</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用任意HTTP服务器启动项目</span></span><br><span class="line"><span class="comment"># 例如使用Python的简易HTTP服务器</span></span><br><span class="line">python -m http.server 8080</span><br></pre></td></tr></table></figure><p>然后在浏览器中访问 <code>http://localhost:8080</code> 即可体验。</p><h2 id="3-3-兼容性说明"><a href="#3-3-兼容性说明" class="headerlink" title="3.3 兼容性说明"></a>3.3 兼容性说明</h2><p>550WOS兼容大多数现代浏览器，推荐使用以下浏览器获得最佳体验：</p><ul><li>Google Chrome 90+</li><li>Microsoft Edge 90+</li><li>Firefox 88+</li><li>Safari 14+</li></ul><blockquote><p><strong>注意：</strong> 在低版本浏览器或移动设备上可能会出现部分功能不可用或显示异常的情况</p></blockquote><h1 id="4-项目架构"><a href="#4-项目架构" class="headerlink" title="4. 项目架构"></a>4. 项目架构</h1><h2 id="4-1-技术架构"><a href="#4-1-技术架构" class="headerlink" title="4.1 技术架构"></a>4.1 技术架构</h2><p>550WOS采用纯前端技术栈构建，主要包括：</p><h3 id="技术架构（核心技术）"><a href="#技术架构（核心技术）" class="headerlink" title="技术架构（核心技术）"></a>技术架构（核心技术）</h3><ul><li><strong>HTML5</strong>：构建页面结构和元素</li><li><strong>CSS3</strong>：实现界面样式和动画效果</li><li><strong>JavaScript</strong>：处理交互逻辑和功能实现</li></ul><h3 id="技术架构（关键组件）"><a href="#技术架构（关键组件）" class="headerlink" title="技术架构（关键组件）"></a>技术架构（关键组件）</h3><ul><li>窗口管理系统</li><li>虚拟文件系统</li><li>应用程序框架</li><li>主题管理器</li><li>事件处理系统</li></ul><h1 id="5-开发与贡献"><a href="#5-开发与贡献" class="headerlink" title="5. 开发与贡献"></a>5. 开发与贡献</h1><h2 id="5-1-开发环境搭建"><a href="#5-1-开发环境搭建" class="headerlink" title="5.1 开发环境搭建"></a>5.1 开发环境搭建</h2><p>如果您希望参与550WOS的开发，可以按照以下步骤搭建开发环境：</p><ol><li>确保您已安装Git和Node.js</li><li>克隆项目仓库：<code>git clone https://github.com/shizhongyangh/550WOS.git</code></li><li>进入项目目录：<code>cd 550WOS</code></li><li>安装开发依赖（如有）：<code>npm install</code></li><li>启动开发服务器：<code>npm start</code>或使用您喜欢的HTTP服务器</li></ol><h2 id="5-2-贡献指南"><a href="#5-2-贡献指南" class="headerlink" title="5.2 贡献指南"></a>5.2 贡献指南</h2><p>我们欢迎各种形式的贡献，包括但不限于：</p><ul><li>提交bug报告和功能建议</li><li>改进文档和注释</li><li>修复已知问题</li><li>开发新功能和应用</li><li>优化性能和用户体验</li></ul><blockquote><p><strong>提示：</strong> 在提交贡献前，请先查阅项目的GitHub Issues页面，确保您的工作不会与他人重复</p></blockquote><p>提交贡献的步骤：</p><ol><li>Fork项目仓库</li><li>创建您的特性分支：<code>git checkout -b feature/amazing-feature</code></li><li>提交您的更改：<code>git commit -m &#39;Add some amazing feature&#39;</code></li><li>推送到分支：<code>git push origin feature/amazing-feature</code></li><li>创建Pull Request</li></ol><h1 id="6-未来展望"><a href="#6-未来展望" class="headerlink" title="6. 未来展望"></a>6. 未来展望</h1><p>550WOS项目仍在积极开发中，未来计划实现的功能和改进包括：</p><ul><li>更多应用程序和系统功能</li><li>性能优化和代码重构</li><li>多语言支持</li><li>更丰富的主题和定制选项</li><li>移动设备适配优化</li><li>用户数据云同步功能</li></ul><p>我们期待社区的反馈和贡献，共同打造一个更完善、更有趣的Web模拟操作系统。</p><h1 id="7-致谢"><a href="#7-致谢" class="headerlink" title="7. 致谢"></a>7. 致谢</h1><p>550WOS项目的开发离不开以下支持：</p><ul><li>特别感谢tjy-github开发的Windows 12网页版项目，为本项目提供了宝贵的基础</li><li>感谢所有为项目提供反馈、建议和贡献的社区成员</li><li>感谢各开源项目和工具，它们为550WOS的开发提供了强大支持</li></ul><hr><blockquote><p><strong>致谢：</strong> 550WOS是一个充满创意的开源项目，欢迎访问<a href="550w.szyd.fun">官方网站</a>体验，或前往<a href="https://github.com/shizhongyangh/550WOS">GitHub仓库</a>了解更多详情！</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 开源项目 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 教程 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>博客魔改教程：一步步改造我的 AnZhiyu 主题</title>
      <link href="/post/2025101801/"/>
      <url>/post/2025101801/</url>
      
        <content type="html"><![CDATA[<h1 id="博客魔改教程-—-如何魔改我的-AnZhiyu-博客"><a href="#博客魔改教程-—-如何魔改我的-AnZhiyu-博客" class="headerlink" title="博客魔改教程 — 如何魔改我的 AnZhiyu 博客"></a>博客魔改教程 — 如何魔改我的 AnZhiyu 博客</h1><p>作者：ShiZhongyan 🍭  </p><p>简介：本文把我对基于 AnZhiyu 主题的博客做的常用“魔改”整理成一步步的教程，包含视觉（背景、光标）、交互（IP 欢迎、QRCode）与兼容性（PJAX、IPv6 换行）处理。适合有 Hexo&#x2F;主题基础的读者复现。</p><hr><h2 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h2><p>本文根据AnZhiyu主题进行改编，请在魔改前根据官网下载安知鱼主题并进行基本操作</p><p>安知鱼主题官网：<a href="https://docs.anheyu.com/initall.html">安知鱼主题</a></p><p>完成后预览地址：<a href="https://www.szyd.fun/">ShiZhongyan🍭blog</a></p><p>预览图片：</p><p><img src="https://cdn.szyd.fun/shizhongyan/691709b2ccec7.png" alt="Alt"></p><hr><h2 id="部署"><a href="#部署" class="headerlink" title="部署"></a>部署</h2><h3 id="安知鱼部署方式"><a href="#安知鱼部署方式" class="headerlink" title="安知鱼部署方式"></a>安知鱼部署方式</h3><h4 id="部署方式一（GitHub推荐）"><a href="#部署方式一（GitHub推荐）" class="headerlink" title="部署方式一（GitHub推荐）"></a>部署方式一（GitHub推荐）</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> -b main https://github.com/anzhiyu-c/hexo-theme-anzhiyu.git themes/anzhiyu</span><br></pre></td></tr></table></figure><h4 id="部署方式二-Release-推荐"><a href="#部署方式二-Release-推荐" class="headerlink" title="部署方式二 (Release 推荐):"></a>部署方式二 (Release 推荐):</h4><p>下载 <a href="https://github.com/anzhiyu-c/hexo-theme-anzhiyu/releases">最新 release 版本</a> 解压到 themes 目录，并将解压出的文件夹重命名为 anzhiyu。</p><h4 id="部署方式三-npm安装"><a href="#部署方式三-npm安装" class="headerlink" title="部署方式三 (npm安装)"></a>部署方式三 (npm安装)</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i hexo-theme-anzhiyu</span><br></pre></td></tr></table></figure><hr><h2 id="免责声明与前置准备"><a href="#免责声明与前置准备" class="headerlink" title="免责声明与前置准备"></a>免责声明与前置准备</h2><ul><li>修改前请备份主题和 source 目录（git commit 或复制文件夹）。  </li><li>需要基本前端能力（HTML&#x2F;CSS&#x2F;JS）和 Hexo 本地调试（hexo s）。  </li><li>本文以主题路径为：d:\程序\blog-demo\themes\anzhiyu；站点源码位于 d:\程序\blog-demo\source。</li></ul><hr><h2 id="总览（你会得到什么）"><a href="#总览（你会得到什么）" class="headerlink" title="总览（你会得到什么）"></a>总览（你会得到什么）</h2><ul><li>白天&#x2F;夜间两张不同的全站背景图。  </li><li>侧栏公告显示“欢迎信息”，基于访客 IP 显示地区与到站长的距离（腾讯位置 API）。  </li><li>IPv6 或超长字符串自动换行，不扰乱卡片布局。  </li><li>在站点底部引入 QRCode 库避免依赖报错。  </li><li>自定义鼠标光标（内点 + 外环 + 点击涟漪），在链接&#x2F;按钮悬停时有交互反馈。  </li><li>PJAX 友好处理，使动态页面切换后交互仍可用。</li></ul><hr><h2 id="步骤-1-—-添加日-夜背景图（CSS）"><a href="#步骤-1-—-添加日-夜背景图（CSS）" class="headerlink" title="步骤 1 — 添加日&#x2F;夜背景图（CSS）"></a>步骤 1 — 添加日&#x2F;夜背景图（CSS）</h2><p>修改文件：source&#x2F;css&#x2F;custom.css</p><p>关键点：</p><ul><li>使用 body 进行背景设置，深色模式覆盖使用 [data-theme&#x3D;”dark”] body。  </li><li>使用合适尺寸图并设置 background-size: cover。</li></ul><p>示例 CSS：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 在 custom.css 中添加（或替换） */</span></span><br><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">url</span>(<span class="string">&#x27;https://sourcebucket.s3.bitiful.net/img/dm3.webp&#x27;</span>) no-repeat center center fixed;</span><br><span class="line">  <span class="attribute">background-size</span>: cover;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;dark&quot;</span>]</span> <span class="selector-tag">body</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">url</span>(<span class="string">&#x27;https://sourcebucket.s3.bitiful.net/img/yuanshen1.webp&#x27;</span>) no-repeat center center fixed;</span><br><span class="line">  <span class="attribute">background-size</span>: cover;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>调试：切换主题或系统深色模式，Ctrl+F5 清缓存查看。</p><hr><h2 id="步骤-2-—-在公告栏显示欢迎信息（IP-定位）"><a href="#步骤-2-—-在公告栏显示欢迎信息（IP-定位）" class="headerlink" title="步骤 2 — 在公告栏显示欢迎信息（IP 定位）"></a>步骤 2 — 在公告栏显示欢迎信息（IP 定位）</h2><p>修改文件：</p><ul><li>source&#x2F;js&#x2F;txmap.js（新增或改写）</li><li>themes&#x2F;anzhiyu&#x2F;layout&#x2F;includes&#x2F;widget&#x2F;card_announcement.pug（确保存在 #welcome-info 容器）</li><li>_config.anzhiyu.yml（在 inject.bottom 引入 txmap.js，并注意 data-pjax 属性）</li></ul><p>要点：</p><ul><li>使用腾讯 Map 的 IP 定位接口（JSONP）。在成功回调中把结果存到全局（例如 window.ipLoacation）并调用 showWelcome()。  </li><li>showWelcome() 读取 ipLoacation，生成 HTML 插入到 #welcome-info；要做好容错检查（ipLoacation 或 DOM 未准备好时返回）。  </li><li>在 pjax:complete 事件中再次调用 showWelcome()，保证页面切换后仍显示。</li></ul><p>示例（伪代码）：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 在 txmap.js 成功回调后</span></span><br><span class="line"><span class="variable language_">window</span>.<span class="property">ipLoacation</span> = res;</span><br><span class="line"><span class="title function_">showWelcome</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// showWelcome() 内包装 try/catch，并在 pjax:complete 调用</span></span><br></pre></td></tr></table></figure><hr><h2 id="步骤-3-—-IPv6-与超长字符串换行"><a href="#步骤-3-—-IPv6-与超长字符串换行" class="headerlink" title="步骤 3 — IPv6 与超长字符串换行"></a>步骤 3 — IPv6 与超长字符串换行</h2><p>问题：IPv6 地址太长会溢出侧栏卡片。</p><p>解决：</p><ul><li>在插入 IP 的 HTML 中为 IP span 添加 class&#x3D;”ip-addr”。  </li><li>在 custom.css 添加换行样式：</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.ip-addr</span> &#123;</span><br><span class="line">  <span class="attribute">overflow-wrap</span>: anywhere;</span><br><span class="line">  <span class="attribute">word-break</span>: break-all;</span><br><span class="line">  <span class="attribute">word-wrap</span>: break-word;</span><br><span class="line">  <span class="attribute">display</span>: inline-block;</span><br><span class="line">  <span class="attribute">max-width</span>: <span class="number">100%</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>说明：anywhere 优先，兼容旧浏览器保留 break-all。</p><hr><h2 id="步骤-4-—-引入-QRCode-库，修复依赖错误"><a href="#步骤-4-—-引入-QRCode-库，修复依赖错误" class="headerlink" title="步骤 4 — 引入 QRCode 库，修复依赖错误"></a>步骤 4 — 引入 QRCode 库，修复依赖错误</h2><p>错误示例：Uncaught ReferenceError: QRCode is not defined（utils.js 调用前库未加载）</p><p>处理：</p><ul><li>在 _config.anzhiyu.yml 的 inject.bottom 中添加 QRCode 脚本（放在 utils.js 之前）：</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/npm/qrcodejs@1.0.0/qrcode.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li>不要把 QRCode 脚本设为 async（若 utils.js 需要立即使用全局 QRCode）。</li></ul><hr><h2 id="步骤-5-—-自定义鼠标光标（cursor-js-CSS）"><a href="#步骤-5-—-自定义鼠标光标（cursor-js-CSS）" class="headerlink" title="步骤 5 — 自定义鼠标光标（cursor.js + CSS）"></a>步骤 5 — 自定义鼠标光标（cursor.js + CSS）</h2><p>目标：漂亮的光标（外环 + 内点 + 点击涟漪），悬停&#x2F;按下有反馈，兼容 PJAX。</p><p>修改文件：</p><ul><li>source&#x2F;js&#x2F;cursor.js（实现 class Cursor，用 requestAnimationFrame 与 Math.lerp 平滑位移；事件委托识别可交互元素；提供 refresh 方法）</li><li>source&#x2F;css&#x2F;custom.css（添加 #cursor、.cursor-dot、.cursor-ring、.cursor-ripple 动画样式）</li></ul><p>关键点：</p><ul><li>使用 document.addEventListener(‘mouseover’, …) 与 target.closest(selector) 来判断 hover（支持动态添加元素）。  </li><li>在 mousedown 时生成一个短时的涟漪 DOM（动画结束后移除），避免频繁修改大量样式。  </li><li>small-screen 默认隐藏自定义光标（可选）。</li></ul><p>调试：在 DevTools 中查看 #cursor 节点是否存在及样式是否生效。</p><hr><h2 id="步骤-6-—-PJAX-兼容（非常重要）"><a href="#步骤-6-—-PJAX-兼容（非常重要）" class="headerlink" title="步骤 6 — PJAX 兼容（非常重要）"></a>步骤 6 — PJAX 兼容（非常重要）</h2><p>要点：</p><ul><li>把 cursor.js、txmap.js、QRCode 等全局库通过 inject.bottom 首次加载，确保初始页面可用。  </li><li>对于需要在页面切换后重新初始化的逻辑（showWelcome、CURSOR.refresh 等），监听 PJAX 事件并触发对应函数：</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">document</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;pjax:complete&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">try</span> &#123; <span class="title function_">showWelcome</span>(); &#125; <span class="keyword">catch</span>(e)&#123;&#125;;</span><br><span class="line">  <span class="keyword">try</span> &#123; <span class="variable constant_">CURSOR</span> &amp;&amp; <span class="variable constant_">CURSOR</span>.<span class="property">refresh</span> &amp;&amp; <span class="variable constant_">CURSOR</span>.<span class="title function_">refresh</span>(); &#125; <span class="keyword">catch</span>(e)&#123;&#125;;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><hr><h2 id="步骤-7-—-文件清单（核心修改位置）"><a href="#步骤-7-—-文件清单（核心修改位置）" class="headerlink" title="步骤 7 — 文件清单（核心修改位置）"></a>步骤 7 — 文件清单（核心修改位置）</h2><ul><li>source&#x2F;css&#x2F;custom.css —— 背景、ip-addr、cursor 样式、#fps 美化等。  </li><li>source&#x2F;js&#x2F;txmap.js —— 腾讯 IP 定位与 showWelcome 实现。  </li><li>source&#x2F;js&#x2F;cursor.js —— 自定义光标。  </li><li>_config.anzhiyu.yml —— inject.bottom 增加 qrcode、cursor、txmap 引入顺序。  </li><li>themes&#x2F;anzhiyu&#x2F;layout&#x2F;includes&#x2F;widget&#x2F;card_announcement.pug —— 确保 #welcome-info 存在。</li></ul><p>我在仓库中已将这些文件分别实现（如需我把关键代码片段抽出为单独 Gist 或补充截图，我可以继续处理）。</p><hr><h2 id="调试与部署建议"><a href="#调试与部署建议" class="headerlink" title="调试与部署建议"></a>调试与部署建议</h2><ol><li>本地运行：hexo clean &amp;&amp; hexo s；在浏览器按 Ctrl+F5 强制刷新静态缓存。  </li><li>Console 检查：确保没有 “QRCode is not defined”、”ipLoacation undefined” 等错误。  </li><li>测试 PJAX：在站内多次跳转，观察欢迎信息、光标是否在切换后继续可用。  </li><li>兼容性：IPv6 换行规则在旧浏览器上可能略有差异，测试主流浏览器。  </li><li>回退准备：修改前 git commit，出现问题可快速回退。</li></ol><hr><h2 id="结语"><a href="#结语" class="headerlink" title="结语"></a>结语</h2><p>本文把我对博客的魔改思路和具体要点总结成可复制的步骤，方便你在自己的 AnZhiyu 主题上复现。若你需要，我可以：</p><ul><li>把每个修改点生成独立的补丁&#x2F;PR；  </li><li>提供完整版代码片段文件（cursor.js、txmap.js、custom.css 关键片段）；  </li><li>添加截图或演示视频。</li></ul><p>祝你魔改愉快 🍭</p><p>有问题请联系QQ:1774297708</p>]]></content>
      
      
      <categories>
          
          <category> 教程 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 教程 </tag>
            
            <tag> 博客魔改教程 </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
